var p=Object.defineProperty;var m=(a,t,e)=>t in a?p(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var o=(a,t,e)=>(m(a,typeof t!="symbol"?t+"":t,e),e);import{r as c,j as n,a as s,L as v,_ as g,u as x,b as f,A as k}from"./index.ece2c2c2.js";import{u as C}from"./useQuery.esm.08929fb8.js";class E extends c.exports.Component{constructor(){super(...arguments);o(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,i){console.error("ErrorBoundary caught an error",e,i)}render(){return this.state.hasError?n("h2",{children:["There was an error with this listing. ",s(v,{to:"/",children:"Click here"})," ","to back to the home page."]}):this.props.children}}const y=E,N=async({queryKey:a})=>{const t=a[1],e=await fetch(`http://pets-v2.dev-apis.com/pets?id=${t}`);if(!e.ok)throw new Error(`details/${t} fetch not ok`);return e.json()};class h extends c.exports.Component{constructor(){super(...arguments);o(this,"state",{active:0});o(this,"handleIndexClick",e=>{this.setState({active:+e.target.dataset.index})})}render(){const{active:e}=this.state,{images:i}=this.props;return n("div",{className:"carousel",children:[s("img",{src:i[e],alt:"animal"}),s("div",{className:"carousel-smaller",children:i.map((d,l)=>s("img",{src:d,className:l===e?"active":"",alt:"animal thumbnail",onClick:this.handleIndexClick,"data-index":l},d))})]})}}o(h,"defaultProps",{images:["http://pets-images.dev-apis.com/pets/none.jpg"]});const _=c.exports.lazy(()=>g(()=>import("./Modal.d8acc8b4.js"),["assets/Modal.d8acc8b4.js","assets/index.ece2c2c2.js"])),b=()=>{const[a,t]=c.exports.useState(!1),{id:e}=x(),i=C(["details",e],N),d=f(),[l,u]=c.exports.useContext(k);if(i.isLoading)return s("div",{className:"loading-pane",children:s("h2",{className:"loader",children:"\u{1F300}"})});const r=i.data.pets[0];return n("div",{className:"details",children:[s(h,{images:r.images}),n("div",{children:[s("h1",{children:r.name}),s("h2",{children:`${r.animal} \u2014 ${r.breed} \u2014 ${r.city}, ${r.state}`}),n("button",{onClick:()=>t(!0),children:["Adopt ",r.name]}),s("p",{children:r.description}),a?s(_,{children:n("div",{children:[n("h1",{children:["Would you like to Adopt ",r.name,"?"]}),n("div",{className:"buttons",children:[s("button",{onClick:()=>{u(r),d("/")},children:"Yes"}),s("button",{onClick:()=>t(!1),children:"No"})]})]})}):null]})]})};function A(a){return s(y,{children:s(b,{...a})})}export{A as default};
